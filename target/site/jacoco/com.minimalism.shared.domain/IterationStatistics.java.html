<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>IterationStatistics.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">file-slice-and-dice-shared</a> &gt; <a href="index.source.html" class="el_package">com.minimalism.shared.domain</a> &gt; <span class="el_source">IterationStatistics.java</span></div><h1>IterationStatistics.java</h1><pre class="source lang-java linenums">package com.minimalism.shared.domain;

import java.util.Objects;

import javax.json.Json;
import javax.json.JsonObject;

<span class="fc" id="L8">public class IterationStatistics {</span>
    private int iterationNumber;
    private long workerId;
    private String threadName;
    private int bufferSize;
    private long byteOffsetInFile;
    private long byteOffsetForBuffer;
    private long iterationStartTime;
    private long iterationEndTime;
    private long parsingStartTime;
    private long parsingEndTime;
    private long publishingStartTime;
    private long publishingEndTime;
    private long processedBytes;
    private int processedRecords;
    private int validRecords;
    private int invalidRecords;
    private int missingInformationRecords;

    public long getWorkerId() {
<span class="fc" id="L28">        return workerId;</span>
    }

    public void setWorkerId(long workerId) {
<span class="fc bfc" id="L32" title="All 2 branches covered.">        if(workerId &lt; 0) {</span>
<span class="fc" id="L33">            workerId = 0;</span>
        }
<span class="fc" id="L35">        this.workerId = workerId;</span>
<span class="fc" id="L36">    }</span>

    public String getThreadName() {
<span class="fc" id="L39">        return threadName;</span>
    }

    public void setThreadName(String threadName) {
<span class="fc bfc" id="L43" title="All 6 branches covered.">        if(threadName == null || threadName.isEmpty() || threadName.isBlank()) {</span>
<span class="fc" id="L44">            threadName = &quot;no_name&quot;;</span>
        }
<span class="fc" id="L46">        this.threadName = threadName;</span>
<span class="fc" id="L47">    }</span>

    public int getIterationNumber() {
<span class="fc" id="L50">        return this.iterationNumber;</span>
    }

    public void setIterationNumber(int iterationNumber) {
<span class="fc bfc" id="L54" title="All 2 branches covered.">        if(iterationNumber &lt; 0) {</span>
<span class="fc" id="L55">            iterationNumber = 0;</span>
        }
<span class="fc" id="L57">        this.iterationNumber = iterationNumber;</span>
<span class="fc" id="L58">    }</span>

    public int getBufferSize() {
<span class="fc" id="L61">        return bufferSize;</span>
    }
    
    public void setBufferSize(int bufferSize) {
        //if negative, set as zero
<span class="fc bfc" id="L66" title="All 2 branches covered.">        if(bufferSize &lt; 0) {</span>
<span class="fc" id="L67">            bufferSize = 0;</span>
        }
<span class="fc" id="L69">        this.bufferSize = bufferSize;</span>
<span class="fc" id="L70">    }</span>

    public long getByteOffsetInFile() {
<span class="fc" id="L73">        return this.byteOffsetInFile;</span>
    }

    public void setByteOffsetInFile(long offsetInFile) {
<span class="fc bfc" id="L77" title="All 2 branches covered.">        if(offsetInFile &lt; 0) {</span>
<span class="fc" id="L78">            offsetInFile = 0;</span>
        }
<span class="fc" id="L80">        this.byteOffsetInFile = offsetInFile;</span>
<span class="fc" id="L81">    }</span>

    public long getByteOffsetForBuffer() {
<span class="fc" id="L84">        return this.byteOffsetForBuffer;</span>
    }

    public void setByteOffsetForBuffer(long offsetForBuffer) {
<span class="fc bfc" id="L88" title="All 2 branches covered.">        if(offsetForBuffer &lt; 0) {</span>
<span class="fc" id="L89">            offsetForBuffer = 0;</span>
        }
<span class="fc" id="L91">        this.byteOffsetForBuffer = offsetForBuffer;</span>
<span class="fc" id="L92">    }</span>

    public void setParsingStartTime(long parsingStartTime) {
<span class="fc" id="L95">        this.parsingStartTime = parsingStartTime;</span>
<span class="fc" id="L96">    }</span>

    public void setPublishingStartTime(long publishingStartTime) {
<span class="nc" id="L99">        this.publishingStartTime = publishingStartTime;</span>
<span class="nc" id="L100">    }</span>

    public void setParsingEndTime(long parsingEndTime) {
<span class="fc" id="L103">        this.parsingEndTime = parsingEndTime;</span>
<span class="fc" id="L104">        this.publishingStartTime = parsingEndTime;</span>
<span class="fc" id="L105">    }</span>

    public void setPublishingEndTime(long publishingEndTime) {
<span class="nc" id="L108">        this.publishingEndTime = publishingEndTime;</span>
<span class="nc" id="L109">    }</span>

    public long getParsingDuration() {
<span class="fc" id="L112">        return this.parsingEndTime - this.parsingStartTime;</span>
    }

    public long getPublishingDuration() {
<span class="fc" id="L116">        return this.publishingEndTime - this.publishingStartTime;</span>
    }

    public void setIterationStartTime(long iterationStartTime) {
<span class="fc" id="L120">        this.iterationStartTime = iterationStartTime;</span>
<span class="fc" id="L121">        this.parsingStartTime = iterationStartTime;</span>
<span class="fc" id="L122">    }</span>

    public void setIterationEndTime(long iterationEndTime) {
<span class="fc" id="L125">        this.iterationEndTime = iterationEndTime;</span>
<span class="fc" id="L126">        this.publishingEndTime = iterationEndTime;</span>
<span class="fc" id="L127">    }</span>

    public long getIterationDuration() {
<span class="fc" id="L130">        return this.iterationEndTime - this.iterationStartTime;</span>
    }

    public long getProcessedBytes() {
<span class="fc" id="L134">        return processedBytes;</span>
    }

    public void setProcessedBytes(long processedBytes) {
<span class="fc bfc" id="L138" title="All 2 branches covered.">        if(processedBytes &lt; 0) {</span>
<span class="fc" id="L139">            processedBytes = 0;</span>
        }
<span class="fc" id="L141">        this.processedBytes = processedBytes;</span>
<span class="fc" id="L142">    }</span>

    public int getProcessedRecords() {
<span class="fc" id="L145">        return processedRecords;</span>
    }

    public void setProcessedRecords(int processedRecords) {
<span class="fc bfc" id="L149" title="All 2 branches covered.">        if(processedRecords &lt; 0) {</span>
<span class="fc" id="L150">            processedRecords = 0;</span>
        }
<span class="fc" id="L152">        this.processedRecords = processedRecords;</span>
<span class="fc" id="L153">    }</span>

    public int getValidRecords() {
<span class="fc" id="L156">        return validRecords;</span>
    }

    public void setValidRecords(int validRecords) {
<span class="fc bfc" id="L160" title="All 2 branches covered.">        if(validRecords &lt; 0) {</span>
<span class="fc" id="L161">            validRecords = 0;</span>
        }
<span class="fc" id="L163">        this.validRecords = validRecords;</span>
<span class="fc" id="L164">    }</span>

    public int getInvalidRecords() {
<span class="fc" id="L167">        return invalidRecords;</span>
    }

    public void setInvalidRecords(int invalidRecords) {
<span class="fc bfc" id="L171" title="All 2 branches covered.">        if(invalidRecords &lt; 0) {</span>
<span class="fc" id="L172">            invalidRecords = 0;</span>
        }
<span class="fc" id="L174">        this.invalidRecords = invalidRecords;</span>
<span class="fc" id="L175">    }</span>

    public int getMissingInformationRecords() {
<span class="fc" id="L178">        return missingInformationRecords;</span>
    }

    public void setMissingInformationRecords(int missingInformationRecords) {
<span class="fc bfc" id="L182" title="All 2 branches covered.">        if(missingInformationRecords &lt; 0) {</span>
<span class="fc" id="L183">            missingInformationRecords = 0;</span>
        }
<span class="fc" id="L185">        this.missingInformationRecords = missingInformationRecords;</span>
<span class="fc" id="L186">    }</span>

    public JsonObject asJson() {
<span class="fc" id="L189">        return Json.createObjectBuilder()</span>
<span class="fc" id="L190">                    .add(&quot;iterationNumber&quot;, this.getIterationNumber())</span>
<span class="fc" id="L191">                    .add(&quot;workerId&quot;, this.getWorkerId())</span>
<span class="fc" id="L192">                    .add(&quot;threadName&quot;, this.getThreadName())</span>
<span class="fc" id="L193">                    .add(&quot;bufferSize&quot;, this.getBufferSize())</span>
<span class="fc" id="L194">                    .add(&quot;byteOffsetInFile&quot;, this.getByteOffsetInFile())</span>
<span class="fc" id="L195">                    .add(&quot;byteOffsetForBuffer&quot;, this.getByteOffsetForBuffer())</span>
<span class="fc" id="L196">                    .add(&quot;processedBytes&quot;, this.getProcessedBytes())</span>
<span class="fc" id="L197">                    .add(&quot;processedRecords&quot;, this.getProcessedRecords())</span>
<span class="fc" id="L198">                    .add(&quot;validRecords&quot;, this.getValidRecords())</span>
<span class="fc" id="L199">                    .add(&quot;invalidRecords&quot;, this.getInvalidRecords())</span>
<span class="fc" id="L200">                    .add(&quot;missingInformationRecords&quot;, this.getMissingInformationRecords())</span>
<span class="fc" id="L201">                    .add(&quot;iterationDuration&quot;, this.getIterationDuration())</span>
<span class="fc" id="L202">                    .add(&quot;parsingDuration&quot;, this.getParsingDuration())</span>
<span class="fc" id="L203">                    .add(&quot;publishingDuration&quot;, this.getPublishingDuration())</span>
<span class="fc" id="L204">                    .build();</span>
    }

    @Override
    public int hashCode() {
<span class="fc" id="L209">        return Objects.hash(this.threadName, this.workerId, this.iterationNumber);</span>
    }

    @Override
    public boolean equals(Object other) {
<span class="pc bpc" id="L214" title="1 of 2 branches missed.">        if(other == null)</span>
<span class="nc" id="L215">            return false;</span>
<span class="pc bpc" id="L216" title="1 of 2 branches missed.">        if(!(other instanceof IterationStatistics))</span>
<span class="nc" id="L217">            return false;</span>
<span class="pc bpc" id="L218" title="1 of 2 branches missed.">        return other.hashCode() == this.hashCode();</span>
    }

    @Override
    public String toString() {
<span class="fc" id="L223">        return this.asJson().toString();</span>
    }

    public void addResidualProcessedBytes(int residualBytes) {
<span class="fc" id="L227">        this.setProcessedBytes(this.processedBytes + residualBytes);</span>
<span class="fc" id="L228">    }</span>
    
    public void addResidualProcessedRecords(int residualRecords) {
<span class="fc" id="L231">        this.setProcessedRecords(this.processedRecords + residualRecords);</span>
<span class="fc" id="L232">    }</span>
    
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>